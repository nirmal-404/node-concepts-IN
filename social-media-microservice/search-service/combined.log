{"level":"error","message":"Mongo connection error The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"post-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:236:11)\n    at NativeConnection.openUri (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\connection.js:1071:34)\n    at Mongoose.connect (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\mongoose.js:446:15)\n    at Object.<anonymous> (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\src\\server.js:21:4)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:174:12)\n    at node:internal/main/run_main_module:28:49","timestamp":"2025-03-15T23:25:44.774Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-15T23:25:44.801Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-15T23:25:44.807Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-15T23:25:44.812Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-15T23:25:44.815Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-15T23:28:42.209Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-15T23:28:45.269Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-15T23:28:46.474Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-15T23:28:47.519Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-15T23:28:48.450Z"}
{"level":"error","message":"Mongo connection error The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"post-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:236:11)\n    at NativeConnection.openUri (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\connection.js:1071:34)\n    at Mongoose.connect (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\mongoose.js:446:15)\n    at Object.<anonymous> (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\src\\server.js:21:4)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:174:12)\n    at node:internal/main/run_main_module:28:49","timestamp":"2025-03-15T23:43:27.645Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-15T23:43:27.671Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-15T23:43:27.677Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-15T23:43:27.683Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-15T23:43:27.685Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-15T23:46:01.844Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-15T23:46:12.281Z"}
{"level":"error","message":"Mongo connection error The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"post-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:236:11)\n    at NativeConnection.openUri (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\connection.js:1071:34)\n    at Mongoose.connect (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\mongoose.js:446:15)\n    at Object.<anonymous> (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\src\\server.js:21:4)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:174:12)\n    at node:internal/main/run_main_module:28:49","timestamp":"2025-03-16T00:41:44.643Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-16T00:41:44.667Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-16T00:41:44.672Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-16T00:41:44.687Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-16T00:41:44.689Z"}
{"level":"error","message":"Mongo connection error The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"post-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:236:11)\n    at NativeConnection.openUri (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\connection.js:1071:34)\n    at Mongoose.connect (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\mongoose.js:446:15)\n    at Object.<anonymous> (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\src\\server.js:21:4)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:174:12)\n    at node:internal/main/run_main_module:28:49","timestamp":"2025-03-16T02:22:03.860Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-16T02:22:03.891Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-16T02:22:03.902Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-16T02:22:03.910Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-16T02:22:03.913Z"}
{"level":"error","message":"Mongo connection error The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.","service":"post-service","stack":"MongooseError: The `uri` parameter to `openUri()` must be a string, got \"undefined\". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.\n    at NativeConnection.createClient (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:236:11)\n    at NativeConnection.openUri (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\connection.js:1071:34)\n    at Mongoose.connect (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\mongoose.js:446:15)\n    at Object.<anonymous> (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\src\\server.js:21:4)\n    at Module._compile (node:internal/modules/cjs/loader:1358:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)\n    at Module.load (node:internal/modules/cjs/loader:1208:32)\n    at Module._load (node:internal/modules/cjs/loader:1024:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:174:12)\n    at node:internal/main/run_main_module:28:49","timestamp":"2025-03-16T02:26:03.135Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-16T02:26:03.191Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-16T02:26:03.205Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-16T02:26:03.218Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-16T02:26:03.225Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-16T02:26:47.222Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-16T02:26:47.234Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-16T02:26:47.244Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-16T02:26:47.248Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-16T02:27:00.488Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-16T02:27:00.506Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-16T02:27:00.518Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-16T02:27:00.524Z"}
{"errorLabelSet":{},"level":"error","message":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"cluster0-shard-00-00.iu2js.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.iu2js.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":151086779,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.iu2js.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.iu2js.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":151086398,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.iu2js.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.iu2js.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":151086778,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-rqs68q-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"post-service","stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\connection.js:1096:11)","timestamp":"2025-03-16T02:27:30.474Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-16T02:39:10.136Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-16T02:39:10.162Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-16T02:39:10.182Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-16T02:39:10.191Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-16T02:39:12.629Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-16T02:40:52.244Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-16T02:41:03.479Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-16T02:44:16.269Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-16T02:44:56.839Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-16T02:47:36.229Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-16T02:51:50.898Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-16T03:23:05.339Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-16T03:25:26.348Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-16T03:25:26.358Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-16T03:25:26.369Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-16T03:25:26.373Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-16T03:25:28.569Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-16T03:25:46.803Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-16T09:01:41.123Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-16T09:01:41.138Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-16T09:01:41.160Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-16T09:01:41.163Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-16T09:01:44.786Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-16T09:11:35.416Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-16T09:31:46.233Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-16T09:49:48.915Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-16T09:49:48.930Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-16T09:49:48.941Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-16T09:49:48.947Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-16T09:49:52.140Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-18T07:49:10.869Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-18T07:49:10.877Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-18T07:49:10.881Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-18T07:49:10.884Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-18T07:49:14.141Z"}
{"level":"info","message":"Received GET request to /api/search","service":"post-service","timestamp":"2025-03-18T07:50:47.588Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-03-18T07:50:47.588Z"}
{"level":"info","message":"Received GET request to /api/search/posts","service":"post-service","timestamp":"2025-03-18T07:51:55.984Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-03-18T07:51:55.985Z"}
{"level":"info","message":"Search endpoint hit!","service":"post-service","timestamp":"2025-03-18T07:51:55.987Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-18T07:52:17.181Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-18T07:52:17.192Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-18T07:52:17.197Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-18T07:52:17.200Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-18T07:52:19.345Z"}
{"level":"info","message":"Received GET request to /api/search/posts","service":"post-service","timestamp":"2025-03-18T07:52:21.884Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-03-18T07:52:21.885Z"}
{"level":"info","message":"Search endpoint hit!","service":"post-service","timestamp":"2025-03-18T07:52:21.885Z"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7483054264927911937"},"signature":{"hash":"vgcNhTDDqDUwOAtH4WiD5sSz7i4=","keyId":{"high":1729502693,"low":4,"unsigned":false}}},"code":14,"codeName":"TypeMismatch","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7483054264927911937"},"signature":{"hash":"vgcNhTDDqDUwOAtH4WiD5sSz7i4=","keyId":{"high":1729502693,"low":4,"unsigned":false}}},"code":14,"codeName":"TypeMismatch","errmsg":"\"$search\" had the wrong type. Expected string, found null","ok":0,"operationTime":{"$timestamp":"7483054264927911937"}},"level":"error","message":"Error while searching post \"$search\" had the wrong type. Expected string, found null","ok":0,"operationTime":{"$timestamp":"7483054264927911937"},"service":"post-service","stack":"MongoServerError: \"$search\" had the wrong type. Expected string, found null\n    at Connection.sendCommand (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:299:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:327:26)\n    at async Server.command (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\sdam\\server.js:168:29)\n    at async FindOperation.execute (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\find.js:36:16)\n    at async tryOperation (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)","timestamp":"2025-03-18T07:52:22.089Z"}
{"level":"info","message":"Received GET request to /api/search/posts","service":"post-service","timestamp":"2025-03-18T08:03:25.877Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-03-18T08:03:25.911Z"}
{"level":"info","message":"Search endpoint hit!","service":"post-service","timestamp":"2025-03-18T08:03:25.911Z"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7483057121081163781"},"signature":{"hash":"Kf8r/kJYJJaSq/77qZL3Vnp6k6Y=","keyId":{"high":1729502693,"low":4,"unsigned":false}}},"code":14,"codeName":"TypeMismatch","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7483057121081163781"},"signature":{"hash":"Kf8r/kJYJJaSq/77qZL3Vnp6k6Y=","keyId":{"high":1729502693,"low":4,"unsigned":false}}},"code":14,"codeName":"TypeMismatch","errmsg":"\"$search\" had the wrong type. Expected string, found null","ok":0,"operationTime":{"$timestamp":"7483057121081163781"}},"level":"error","message":"Error while searching post \"$search\" had the wrong type. Expected string, found null","ok":0,"operationTime":{"$timestamp":"7483057121081163781"},"service":"post-service","stack":"MongoServerError: \"$search\" had the wrong type. Expected string, found null\n    at Connection.sendCommand (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:299:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:327:26)\n    at async Server.command (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\sdam\\server.js:168:29)\n    at async FindOperation.execute (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\find.js:36:16)\n    at async tryOperation (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)","timestamp":"2025-03-18T08:03:27.176Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-18T08:08:23.987Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-18T08:08:23.995Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-18T08:08:24.000Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-18T08:08:24.003Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-18T08:08:26.295Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-18T08:08:52.577Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-18T08:09:01.684Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-18T08:09:06.090Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-18T08:13:47.808Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-18T08:13:47.818Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-18T08:13:47.824Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-18T08:13:47.828Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-18T08:13:49.818Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-18T08:13:52.490Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-18T08:13:52.500Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-18T08:13:52.557Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-18T08:13:52.560Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-18T08:13:54.382Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-18T08:13:59.151Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-18T08:13:59.157Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-18T08:13:59.163Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-18T08:13:59.166Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-18T08:14:01.001Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-18T08:14:03.759Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-18T08:14:03.769Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-18T08:14:03.774Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-18T08:14:03.778Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-18T08:14:05.581Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-18T08:14:06.253Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-18T08:14:06.262Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-18T08:14:06.267Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-18T08:14:06.270Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-18T08:14:08.083Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-18T08:14:14.268Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-18T08:14:14.307Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-18T08:14:14.315Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-18T08:14:14.318Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-18T08:14:16.643Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-18T08:14:16.651Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-18T08:14:16.656Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-18T08:14:16.659Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-18T08:14:18.461Z"}
{"0":"E","1":"r","10":"l","11":"i","12":"n","13":"g","14":" ","15":"p","16":"o","17":"s","18":"t","19":" ","2":"r","20":"c","21":"r","22":"e","23":"a","24":"t","25":"i","26":"o","27":"n","28":" ","29":"e","3":"o","30":"v","31":"e","32":"n","33":"t","4":"r","5":" ","6":"h","7":"a","8":"n","9":"d","_message":"Search validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Search validation failed: userId: Path `userId` is required.","service":"post-service","stack":"ValidationError: Search validation failed: userId: Path `userId` is required.\n    at Document.invalidate (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-18T08:14:26.927Z"}
{"level":"info","message":"Search post created: 67d92ba23b7a965a0d70cc97, 67d92ba2e795038278d509a8","service":"post-service","timestamp":"2025-03-18T08:15:30.862Z"}
{"level":"info","message":"Search post created: 67d92bc83b7a965a0d70cc99, 67d92bc8e795038278d509aa","service":"post-service","timestamp":"2025-03-18T08:16:09.163Z"}
{"level":"info","message":"Search post created: 67d92bcc3b7a965a0d70cc9b, 67d92bcde795038278d509ac","service":"post-service","timestamp":"2025-03-18T08:16:13.330Z"}
{"level":"info","message":"Search post created: 67d92bd13b7a965a0d70cc9d, 67d92bd1e795038278d509ae","service":"post-service","timestamp":"2025-03-18T08:16:17.548Z"}
{"level":"info","message":"Search post created: 67d92bd53b7a965a0d70cc9f, 67d92bd5e795038278d509b0","service":"post-service","timestamp":"2025-03-18T08:16:21.785Z"}
{"level":"info","message":"Search post created: 67d92bd93b7a965a0d70cca1, 67d92bd9e795038278d509b2","service":"post-service","timestamp":"2025-03-18T08:16:26.010Z"}
{"level":"info","message":"Search post created: 67d92bdd3b7a965a0d70cca3, 67d92bdee795038278d509b4","service":"post-service","timestamp":"2025-03-18T08:16:30.238Z"}
{"level":"info","message":"Search post created: 67d92be23b7a965a0d70cca5, 67d92be2e795038278d509b6","service":"post-service","timestamp":"2025-03-18T08:16:34.591Z"}
{"level":"info","message":"Search post created: 67d92be73b7a965a0d70cca7, 67d92be7e795038278d509b8","service":"post-service","timestamp":"2025-03-18T08:16:39.849Z"}
{"level":"info","message":"Search post created: 67d92bec3b7a965a0d70cca9, 67d92bece795038278d509ba","service":"post-service","timestamp":"2025-03-18T08:16:44.804Z"}
{"level":"info","message":"Search post created: 67d92bf13b7a965a0d70ccab, 67d92bf1e795038278d509bc","service":"post-service","timestamp":"2025-03-18T08:16:49.674Z"}
{"level":"info","message":"Search post created: 67d92bf53b7a965a0d70ccad, 67d92bf5e795038278d509be","service":"post-service","timestamp":"2025-03-18T08:16:54.080Z"}
{"level":"info","message":"Search post created: 67d92bf93b7a965a0d70ccaf, 67d92bf9e795038278d509c0","service":"post-service","timestamp":"2025-03-18T08:16:58.113Z"}
{"level":"info","message":"Search post created: 67d92bff3b7a965a0d70ccb1, 67d92bffe795038278d509c2","service":"post-service","timestamp":"2025-03-18T08:17:03.421Z"}
{"level":"info","message":"Search post created: 67d92c043b7a965a0d70ccb3, 67d92c04e795038278d509c4","service":"post-service","timestamp":"2025-03-18T08:17:08.589Z"}
{"level":"info","message":"Search post created: 67d92c0a3b7a965a0d70ccb5, 67d92c0ae795038278d509c6","service":"post-service","timestamp":"2025-03-18T08:17:14.408Z"}
{"level":"info","message":"Search post created: 67d92c133b7a965a0d70ccb7, 67d92c13e795038278d509c8","service":"post-service","timestamp":"2025-03-18T08:17:23.485Z"}
{"level":"info","message":"Search post created: 67d92c173b7a965a0d70ccb9, 67d92c18e795038278d509ca","service":"post-service","timestamp":"2025-03-18T08:17:28.315Z"}
{"level":"info","message":"Search post created: 67d92c1c3b7a965a0d70ccbb, 67d92c1de795038278d509cc","service":"post-service","timestamp":"2025-03-18T08:17:33.353Z"}
{"level":"info","message":"Search post created: 67d92c213b7a965a0d70ccbd, 67d92c21e795038278d509ce","service":"post-service","timestamp":"2025-03-18T08:17:37.427Z"}
{"level":"info","message":"Received GET request to /api/search/posts","service":"post-service","timestamp":"2025-03-18T08:18:12.623Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-03-18T08:18:12.624Z"}
{"level":"info","message":"Search endpoint hit!","service":"post-service","timestamp":"2025-03-18T08:18:12.625Z"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7483060926422188038"},"signature":{"hash":"5ELu9yLZhqXTafydQ3o2nkepHxM=","keyId":{"high":1729502693,"low":4,"unsigned":false}}},"code":14,"codeName":"TypeMismatch","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7483060926422188038"},"signature":{"hash":"5ELu9yLZhqXTafydQ3o2nkepHxM=","keyId":{"high":1729502693,"low":4,"unsigned":false}}},"code":14,"codeName":"TypeMismatch","errmsg":"\"$search\" had the wrong type. Expected string, found null","ok":0,"operationTime":{"$timestamp":"7483060926422188038"}},"level":"error","message":"Error while searching post \"$search\" had the wrong type. Expected string, found null","ok":0,"operationTime":{"$timestamp":"7483060926422188038"},"service":"post-service","stack":"MongoServerError: \"$search\" had the wrong type. Expected string, found null\n    at Connection.sendCommand (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:299:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:327:26)\n    at async Server.command (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\sdam\\server.js:168:29)\n    at async FindOperation.execute (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\find.js:36:16)\n    at async tryOperation (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)","timestamp":"2025-03-18T08:18:12.826Z"}
{"level":"info","message":"Search post deleted: 67d92bcc3b7a965a0d70cc9b}","service":"post-service","timestamp":"2025-03-18T08:22:26.410Z"}
{"level":"info","message":"Search post deleted: 67d92bd13b7a965a0d70cc9d}","service":"post-service","timestamp":"2025-03-18T08:23:06.918Z"}
{"level":"info","message":"Received GET request to /api/search/posts","service":"post-service","timestamp":"2025-03-18T08:26:37.167Z"}
{"level":"info","message":"Request body, [object Object]","service":"post-service","timestamp":"2025-03-18T08:26:37.168Z"}
{"level":"info","message":"Search endpoint hit!","service":"post-service","timestamp":"2025-03-18T08:26:37.169Z"}
{"$clusterTime":{"clusterTime":{"$timestamp":"7483063091085705220"},"signature":{"hash":"xsIKAun1iGP8FeJSETeIMYAi9aU=","keyId":{"high":1729502693,"low":4,"unsigned":false}}},"code":14,"codeName":"TypeMismatch","errorLabelSet":{},"errorResponse":{"$clusterTime":{"clusterTime":{"$timestamp":"7483063091085705220"},"signature":{"hash":"xsIKAun1iGP8FeJSETeIMYAi9aU=","keyId":{"high":1729502693,"low":4,"unsigned":false}}},"code":14,"codeName":"TypeMismatch","errmsg":"\"$search\" had the wrong type. Expected string, found null","ok":0,"operationTime":{"$timestamp":"7483063091085705220"}},"level":"error","message":"Error while searching post \"$search\" had the wrong type. Expected string, found null","ok":0,"operationTime":{"$timestamp":"7483063091085705220"},"service":"post-service","stack":"MongoServerError: \"$search\" had the wrong type. Expected string, found null\n    at Connection.sendCommand (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:299:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Connection.command (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cmap\\connection.js:327:26)\n    at async Server.command (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\sdam\\server.js:168:29)\n    at async FindOperation.execute (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\find.js:36:16)\n    at async tryOperation (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (D:\\desktop files\\my projects\\node intermediate\\social-media-microservice\\search-service\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)","timestamp":"2025-03-18T08:26:37.315Z"}
{"level":"info","message":"Connected to rabbit mq","service":"post-service","timestamp":"2025-03-18T08:59:49.118Z"}
{"level":"info","message":"Subscribed to event: post.created","service":"post-service","timestamp":"2025-03-18T08:59:49.124Z"}
{"level":"info","message":"Subscribed to event: post.deleted","service":"post-service","timestamp":"2025-03-18T08:59:49.129Z"}
{"level":"info","message":"Search service is running on port: 3004","service":"post-service","timestamp":"2025-03-18T08:59:49.131Z"}
{"level":"info","message":"Connected to mongodb","service":"post-service","timestamp":"2025-03-18T08:59:51.871Z"}
